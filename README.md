MySQL-JSON-utils
================

Some functions for JSON parsing for SQL queries

## Install
$ mysql -u <user> -p <database> < install.sql

## Uninstall
$ mysql -u <user> -p <database> < uninstall.sql

## Descriptions

Get JSON value:
```
mysql> SELECT JSON_VALUE(payload, 'roundTripAverage') from history where link_id IS NOT NULL;
+-----------------------------------------+
| JSON_VALUE(payload, 'roundTripAverage') |
+-----------------------------------------+
| 14.561                                  |
| 14.643                                  |
| 0.155                                   |
+-----------------------------------------+
3 rows in set (0.00 sec)

```

Get JSON ARRAY Value:
```
mysql> select * from history where id=9;
+----+-----------+---------+-------------+----------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+
| id | object_id | link_id | property_id | state_id | modified            | comments | payload                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | timestamp     |
+----+-----------+---------+-------------+----------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+
|  9 |         8 |    NULL |        NULL |     NULL | 2014-12-02 13:21:28 |          | [{"averageCpuLoad":{"oneMinuteAverageLoad":0,"fiveMinutesAverageLoad":0.01,"fifteenMinutesAverageLoad":0.05},"cpuInformation":{"vendor":"Intel","model":"Xeon","mhz":3066,"cacheSize":12288,"totalCores":1,"totalSockets":1,"coresPerSocket":1},"percentageUsage":{"user":0.004334778259419807,"system":0.0040013337779259755,"nice":0,"idle":0.9909969989996665,"wait":0.00033344448149383126,"irq":0.00033344448149383126,"softIrq":0,"stolen":0,"combined":0.008669556518839614}}] | 1417515688672 |
+----+-----------+---------+-------------+----------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+
1 row in set (0.00 sec)

mysql> select JSON_ARRAY_VALUE(payload, NULL, 2) from history where id=9;
+------------------------------------+
| JSON_ARRAY_VALUE(payload, NULL, 2) |
+------------------------------------+
| "fiveMinutesAverageLoad":0.01      |
+------------------------------------+
1 row in set (0.00 sec)
```



